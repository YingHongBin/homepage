<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ZJU DB System</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="favicon.ico">

  <!-- partial:partial/__stylesheets.html -->
  <link rel="stylesheet" href="assets/css/plugins/bootstrap.min.css">
  <link rel="stylesheet" href="assets/css/plugins/animate.min.css">
  <link rel="stylesheet" href="assets/css/plugins/magnific-popup.css">
  <link rel="stylesheet" href="assets/css/plugins/slick.css">
  <link rel="stylesheet" href="assets/css/plugins/slick-theme.css">
  <link rel="stylesheet" href="assets/css/plugins/ion.rangeSlider.min.css">

  <!-- Icon Fonts -->
  <link rel="stylesheet" href="assets/fonts/flaticon/flaticon.css">
  <link rel="stylesheet" href="assets/css/plugins/font-awesome.min.css">
  <!-- Template Style sheet -->
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/responsive.css">
  <!-- partial -->

</head>

<body>

  <div id="header-placeholder"></div>

  <!-- partial:partia/__subheader.html -->
  <div class="sigma_subheader dark-overlay dark-overlay-2" style="background-image: url(assets/img/opensource-banner.jpeg);">

    <div class="container">
      <div class="sigma_subheader-inner" style="padding: 100px 0;">
        <div class="sigma_subheader-text">
          <h1 class="lang lang-zh">开源系统</h1>
          <h1 class="lang lang-en">Open Source</h1>
        </div>
      </div>
    </div>

  </div>
  
  <!-- partial -->

  <div class="section section-padding pt-0" style="margin-top: 30px;">
    <div class="container">

      <div id="open-source" class="row">

      </div>

    </div>
  </div>

  <div id="footer-placeholder"></div>

  <!-- partial:partia/__scripts.html -->
  <script src="assets/js/plugins/jquery-3.5.1.min.js"></script>
  <script src="assets/js/plugins/popper.min.js"></script>
  <script src="assets/js/plugins/bootstrap.min.js"></script>
  <script src="assets/js/plugins/imagesloaded.min.js"></script>
  <script src="assets/js/plugins/jquery.magnific-popup.min.js"></script>
  <script src="assets/js/plugins/jquery.countdown.min.js"></script>
  <script src="assets/js/plugins/jquery.waypoints.min.js"></script>
  <script src="assets/js/plugins/jquery.counterup.min.js"></script>
  <script src="assets/js/plugins/jquery.zoom.min.js"></script>
  <script src="assets/js/plugins/jquery.inview.min.js"></script>
  <script src="assets/js/plugins/jquery.event.move.js"></script>
  <script src="assets/js/plugins/wow.min.js"></script>
  <script src="assets/js/plugins/isotope.pkgd.min.js"></script>
  <script src="assets/js/plugins/slick.min.js"></script>
  <script src="assets/js/plugins/ion.rangeSlider.min.js"></script>

  <script src="assets/js/main.js"></script>
  <!-- partial -->

  <script>
    // 动态加载组件
    function loadComponent(id, url) {
      return fetch(url)
        .then(response => response.text())
        .then(html => {
          document.getElementById(id).innerHTML = html;
          // 组件加载完成后，重新应用语言设置
          const savedLanguage = localStorage.getItem('language') || 'zh';
          setLanguage(savedLanguage);
        })
        .catch(error => {
          console.error('Error loading component:', error);
        });
    }

    // 加载头部和页脚组件
    Promise.all([
      loadComponent('header-placeholder', '/component/header.html'),
      loadComponent('footer-placeholder', '/component/footer.html')
    ]).then(() => {
      // 所有组件加载完成后，确保语言设置正确应用
      const savedLanguage = localStorage.getItem('language') || 'zh';
      setLanguage(savedLanguage);
    });
  </script>

  <script>
    // 页面加载时设置语言
    document.addEventListener('DOMContentLoaded', function () {
      const savedLanguage = localStorage.getItem('language') || 'zh'; // 默认语言为英文
      setLanguage(savedLanguage);
    });
  
    // 切换语言
    function switchLanguage() {
      const currentLanguage = localStorage.getItem('language') || 'zh';
      const newLanguage = currentLanguage === 'en' ? 'zh' : 'en';
  
      // 保存语言到 localStorage
      localStorage.setItem('language', newLanguage);
  
      // 更新页面语言
      setLanguage(newLanguage);
    }
  
    // 设置语言
    function setLanguage(lang) {
      // 隐藏所有语言内容
      document.querySelectorAll('.lang').forEach(function (el) {
        el.style.display = 'none';
      });
  
      // 显示选定语言的内容
      document.querySelectorAll('.lang-' + lang).forEach(function (el) {
        el.style.display = 'block';
      });
  
      // 更新按钮文本
      const languageButton = document.getElementById('languageButton');
      if (languageButton) {
        languageButton.textContent = lang === 'zh' ? 'EN' : '中文';
      }
    }
  </script>

  <script>
    // 获取容器
    const container = document.getElementById("open-source");

    const data = [
      {
        type: "AI FOR FINANCE",
        name: "Falcon",
        img: "https://www.comp.nus.edu.sg/~dbsystem/static/bf73e5c3e17a3c2a717a92aed4dc72ba/69482/falcon_logo.png",
        description_zh: "Falcon 是一个用于金融管理和分析的安全且可解释的联邦学习平台。",
        description_en: "Falcon is a Secure and Interpretable Federated Learning Platform for Financial Management and Analytics."
      },
      {
        type: "DB FOR DATA COLLABORATION",
        name: "ForkBase",
        img: "https://www.comp.nus.edu.sg/~dbsystem/static/19da0b71d7dc2846ea5328052f51a1f9/50148/forkbase_banner.png",
        description_en: "An Efficient Storage Engine for Blockchain and Forkable Applications",
        description_zh: "一个高效的存储引擎，用于区块链和可分叉应用程序"
      },
      {
        type: "DB FOR DISTRIBUTED TRAINING",
        name: "Apache SINGA",
        img: "https://www.comp.nus.edu.sg/~dbsystem/static/d909451f88aee6b9be9e30ebac6fda9a/4f388/singa_banner.jpg",
        description_en: "Apache SINGA is an Apache Top Level Project (TLP), focusing on distributed training of deep learning and machine learning models",
        description_zh: "Apache SINGA 是一个 Apache 顶级项目 (TLP)，专注于深度学习和机器学习模型的分布式训练。"
      },
      {
        type: "AI + DB FOR COHORT DISCOVERY & ANALYTICS",
        name: "COHORT",
        img: "https://www.comp.nus.edu.sg/~dbsystem/static/d4cef7d6005d81e55db728dee933096d/50148/cohort_banner.png",
        description_en: "Efficient and Interpretable Cohort Study and Analysis",
        description_zh: "高效且可解释的队列研究和分析"
      }
    ]

    // 遍历数据并生成 HTML
    data.forEach(item => {
      // 创建一个卡片容器
      const card = document.createElement("div");
      card.className = "col-lg-4 col-md-6";
      card.style.display = "flex";
    
      // 动态生成 HTML 内容
      card.innerHTML = `
        <article class="sigma_post">
          <div class="sigma_post-thumb2">
            <p>${item.type}</p>
            <a href="projects.html">
              <img src="${item.img}" style="background-color: white; border: solid rgba(0, 0, 0, 0.08); border-radius: 8px;">
            </a>
          </div>
          <div class="sigma_post-body2">
            <h5><a href="blog-details.html">${item.name}</a></h5>
            <p class="lang lang-zh" style="display: block;">${item.description_zh}</p>
            <p class="lang lang-en" style="display: none;">${item.description_en}</p>
          </div>
        </article>
      `;
      
      // 将卡片添加到容器中
      container.appendChild(card);
    });
  </script>

</body>

</html>
